(function(h){var q="config.json";var l="v";var C="f";var B="L";var a="1.0.0";var v=null;var d=null;var s=null;var n=false;var e=null;var r=-1;var i=false;var w="";var t=/^(\d+|\d+[-]\d+)$/;function x(E,F,D){this.key=E;this.hash=F;this.scrollTop=0;this.version=D}h(function(){hljs.configure({tabReplace:"    ",useBR:false});d=h("#main_content pre code");u();z();k()});function u(){h("#menu_title").html("<center>Loading...</center>");h.ajax({url:q,async:false,cache:false,type:"GET",dataType:"json"}).done(function(E){v=E;h("#menu_title").html("<center>Files</center>");if(E.LinkRoot){i=E.LinkRoot}if(E.AppendPath){w=E.AppendPath}f(E.Versions);g(E.Files);var F=y(C);var D=y(B);b(F,D,s);o(F)}).fail(function(D,F,E){h("#menu_title").html('<center>Load "config.json" Error.</center>')})}function z(){h("#btn_show_menu").click(function(){var D=h(this).text();h(this).text(D==">"?"<":">");h("#main_sidebar").sidebar({duration:1,}).sidebar("toggle")});h.each(h("#main_sidebar .item a.item"),function(F,I){var G=h(I);var E=G.html();E=E.replace(/\//g,"/<wbr>").replace(/\./g,".<wbr>");G.html(E);var D=G.outerWidth()-10;var H=A(I);if(H>=D){G.popup({on:"hover",content:'<a href="'+G.attr("href")+'">'+G.text()+"</a>",transition:"none",position:"left center",className:{popup:"ui popup inverted item_popup"},onShow:function(L){var P=h(".ui.popup.item_popup");var K=parseFloat(P.css("top"));var M=parseFloat(P.css("padding-top"));var N=P.outerHeight();var O=G.outerHeight();var J=(O-N)/2;if(0>=J){J="0.8em"}else{K=K-J+0.5;J+=M}P.css({left:"-11px",paddingTop:J,paddingBottom:J,top:K}).mouseout(function(){h(this).hide();h(this).remove()})}})}});if(-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")){h("#number").addClass("safari")}else{if(-1!=navigator.userAgent.indexOf("Opera")){h("#number").addClass("opera")}else{if(-1!=navigator.userAgent.indexOf("IE")){h("#number").addClass("ie")}}}}function k(){var H=-1;var J=new Array();var G=20;var I=false;var D=y(C);if(D){var F=window.location.hash;var E=new x(D,F,s);H=J.push(E)}h(window).scroll(function(K){var M=h(window).scrollTop();if(1<=H&&J.length>=H){var L=J[H-1];if(L){L.scrollTop=M;J[H-1]=L}}});h(window).keydown(function(K){if(1<=h(".line_number.active",d).length){r=K.which}else{r=-1}});h(window).keyup(function(L){r=-1;var Q=L.which;switch(Q){case 38:var R=h("#main_sidebar .menu a.item");var O=R.length;if(0<O){var K=0;h.each(R,function(T,U){var S=h(U);if(S.hasClass("active")){K=T-1;return false}return true});if(0>K){R.eq(O-1).click()}else{R.eq(K).click()}}break;case 40:var R=h("#main_sidebar .menu a.item");var O=R.length;if(0<O){var K=0;h.each(R,function(T,U){var S=h(U);if(S.hasClass("active")){K=T+1;return false}return true});if(O<=K){R.eq(0).click()}else{R.eq(K).click()}}break;case 37:H--;if(1<=H&&J.length>=H){var N=J[H-1];var P=y(C);var M=y(l);if(P&&M){if(N.key!=P||N.version!=M){n=false;window.location.hash=N.hash}}}else{if(1>=H){H=1}}break;case 39:H++;if(1<=H&&J.length>=H){var N=J[H-1];var P=y(C);var M=y(l);if(P&&M){if(N.key!=P||N.version!=M){n=false;window.location.hash=N.hash}}}else{if(J.length<=H){H=J.length}}break}return false});h(window).on("hashchange",function(){var Q=y(C);var S=s;var N=window.location.hash;if(!Q||I){return}if(!n&&1<=H&&J.length>=H){var P=J[H-1];var K=0;var L=false;if(P){K=P.scrollTop;L=P.version}I=true;if(L){if(L!=S){h("#version_text").text(L);h.each(h("div.item",h("#version_value")),function(U,V){var T=h(V);if(T.attr("data-value")==L){T.addClass("active")}else{T.removeClass("active")}});s=L;if(null!=v){g(v.Files)}}}o(Q,K);I=false;return}var R=false;if(0==J.length){R=true}else{if(1<=H&&J.length>=H){var P=J[H-1];if(P.key==Q&&S==P.version){P.hash=N;P.scrollTop=h(window).scrollTop();P.version=S;J[H-1]=P}else{R=true;var O=J.length;for(var M=H;M<O;M++){J.pop()}}}}if(R){if(G<=J.length){J.shift()}var P=new x(Q,N,S);H=J.push(P)}})}function o(F,H){if(!F){return}var G=h("#main_sidebar .item a.item");h.each(G,function(K,L){var J=h(L);var I=J.attr("href");if(I==F){J.addClass("active")}else{J.removeClass("active")}});d.empty();d.html("Loading...");var E="";if(i){if(0!=w.length&&0==F.indexOf(w+"/")){F=F.substring(w.length+1,F.length)}E="../"+F}else{var D=j(s);if(0!=w.length&&0!=F.indexOf(w)){F=w+"/"+F}E=D+"/src/"+F}h.ajax({url:E,async:true,cache:true,dataType:"text"}).done(function(X){d.attr("src",F);d.empty();var J=F.substring(F.lastIndexOf(".")+1,F.length);var V="";if(J&&hljs.getLanguage(J)){V=hljs.fixMarkup(hljs.highlightAuto(X,[J]).value)}else{V=hljs.fixMarkup(hljs.highlightAuto(X).value)}var T=new Array();var Y=V.split(/\n/g);var S=Y.length;for(var R=0;R<S;R++){var U=Y[R];if(!U||0==U.length){U="&nbsp;"}if(-1!=U.indexOf(">/*")&&-1==U.indexOf("*/<")){var I="";var P=U.indexOf("<");for(var O=0;O<P;O++){I+=" "}if(-1!=P){U=U.substring(P,U.length)}U=U.replace(">/*",'><span class="line_code"><a class="line_number" L="'+(R+1)+'"></a>'+I+"/*")+"\n</span>"}else{if(-1!=U.indexOf("*/<")&&-1==U.indexOf(">/*")){U='<span class="line_code"><a class="line_number" L="'+(R+1)+'"></a>'+U.replace("*/<","*/\n</span><")}else{U='<span class="line_code"><a class="line_number" L="'+(R+1)+'"></a>'+U+"\n</span>"}}T.push(U)}if(1500<S){h("body").addClass("transition_initial");h("#main_sidebar").addClass("transition_initial")}else{h("body").removeClass("transition_initial");h("#main_sidebar").removeClass("transition_initial")}h("#src_info").html(S+" lines "+X.getBytesLength()+" byte");d.html(T.join(""));m();var L=y(B);if(L&&t.test(L)){L=L.split("-");var Q=parseInt(L[0]);var N=L[1];var W=Q;var K=Q;if(N){K=parseInt(N)}var M=new Array();for(var R=W;R<=K;R++){M.push(R+"")}if(!H){p(M,Q+"")}else{p(M)}}if(H){h(window).scrollTop(H)}}).fail(function(){var I="";if(-1!=window.location.protocol.indexOf("file")){I="\n\nTry to use gosfdoc command run document."}d.html("File: "+F+"\nSorry! Unable to load the source code. version: "+s+I)})}function f(F){var D=y(l);if(D){s=D}var H="";var G=false;var E=h("#version_value");E.empty();h.each(F,function(K,M){var J=M.toString();var I="";if(0==H.length){H=J}if(s==J){G=true;I=" active"}var L='<div class="item'+I+'" data-value="'+J+'">'+J+"</div>";E.append(L)});if(!G){if(0==H.length){s=a}else{s=H}}h("#version_text").text(s);h(".ui.dropdown.version").unbind().dropdown({on:"hover",onChange:function(K,L){if(s==K){return}h("#version_text").text(L);s=K;var J=y(C);var I=y(B);b(J,I,s);if(v){g(v.Files)}o(J)}})}function g(G){var D=h("<div class=item></div>");var F=0;h.each(G,function(I,M){var K=M.Version;if(s!=K){return true}var H=M.MenuName;var J=h('<div class="menu"></div>');var L=h("<b>"+H+"</b>");h.each(M.List,function(Q,O){var R=O.Filename;var P=R;var N=h('<a class="item" href='+P+">"+R+"</a>");N.click(function(){if(h(this).hasClass("active")){return false}var S=h(this).attr("href");b(S,false,s);o(S);return false});J.append(N)});F++;D.append(L);D.append(J)});if(0==F){D.html("No info data. Version: "+s)}var E=h("#menu_title");h("#main_sidebar").empty();h("#main_sidebar").append(E);h("#main_sidebar").append(D)}function m(D){var E=null;if(D){E=h(D)}else{E=h(".line_number",d)}E.unbind();E.hover(function(){var F=h(this).parent();F.css("background-color","rgba(243, 104, 11, 0.5)")},function(){var F=h(this).parent();F.css("background-color","transparent")});E.click(function(F){var L=h(this);var O=false;if(L.hasClass("active")){O=true}var M=h(this).attr("L");var I=new Array();var P="";if(!O){var H=y(B);if(-1==r||!t.test(H)){P=M;I.push(M)}else{c();H=H.split("-");var K=parseInt(H[0]);M=parseInt(M);var N=0;var G=0;if(K<M){N=K;G=M}else{N=M;G=K}for(var J=N;J<=G;J++){I.push(J+"")}P=N+"-"+G}}p(I);b(y(C),P,s)})}function c(){var D=window.getSelection?window.getSelection():document.selection;if(D){if(D.removeAllRanges){D.removeAllRanges()}else{if(D.empty){D.empty()}}}}function p(E,D){h.each(h(".line_number",d),function(H,J){var G=h(J);var F=G.attr("L");if(D&&D==F){var I=G.offset().top-h(window).height()*0.2;h(window).scrollTop(I)}if(-1!=h.inArray(F,E)){if(!G.hasClass("active")){G.addClass("active")}}else{G.removeClass("active")}})}function b(F,E,D){var G="";if(D){G+=l+"="+escape(D)}if(F){if(0!=G.length){G+="&"}G+=C+"="+escape(F)}if(E){if(0!=G.length){G+="&"}G+=B+"="+escape(E)}n=true;window.location.hash=G;window.location.search="";window.location.query="";window.clearTimeout(e);e=window.setTimeout(function(){n=false},600)}String.prototype.getBytesLength=function(){var F=0;var D;for(var E=0;E<this.length;E++){D=this.charCodeAt(E);if(D<127){F++}else{if((128<=D)&&(D<=2047)){F+=2}else{if((2048<=D)&&(D<=65535)){F+=3}else{F+=4}}}}return F};function j(E){var D="";if(E&&0!=E.length){D="v"+E.replace(/\./g,"_")+"/"}return D}function y(E){var H=unescape(window.location.search)+"&";if(H=="&"){H=unescape(window.location.hash)+"&"}var F=new RegExp(".*?[&\\?#]"+E+"=(.*?)&.*");var G=H.replace(F,"$1");var D=G==H?false:G;return D}function A(E){var D;var F=document.createElement("span");while(E.firstChild){F.appendChild(E.firstChild)}E.appendChild(F);D=F.offsetWidth;E.removeChild(F);while(F.firstChild){E.appendChild(F.firstChild)}return D}})(jQuery);