(function(f){var G="md";var h=".md";var s="config.json";var m="p";var C="t";var b="a";var e="stickyItems";var r="language";var n="default";var B=n;var v=null;var x=null;var F=46;f(function(){hljs.configure({tabReplace:"    ",useBR:true});marked.setOptions({langPrefix:""});marked.setOptions({highlight:function(H,I){if(I){if(hljs.getLanguage(I)){return hljs.fixMarkup(hljs.highlightAuto(H,[I]).value)}else{return hljs.fixMarkup(hljs.highlightAuto(H).value)}}}});x=f("#main_content");f("#btn_show_menu").click(function(){var H=f(this).text();f(this).text(H==">"?"<":">");f("#main_sidebar").sidebar("toggle")});t();f.each(f("#main_sidebar .item a.item"),function(J,M){var K=f(M);var I=K.html();I=I.replace(/\//g,"/<wbr>").replace(/\./g,".<wbr>");K.html(I);var H=K.outerWidth()-10;var L=E(M);if(L>=H){K.popup({on:"hover",content:'<a href="'+K.attr("href")+'">'+K.text()+"</a>",transition:"none",position:"left center",className:{popup:"ui popup inverted item_popup"},onShow:function(P){var T=f(".ui.popup.item_popup");var O=parseFloat(T.css("top"));var Q=parseFloat(T.css("padding-top"));var R=T.outerHeight();var S=K.outerHeight();var N=(S-R)/2;if(0>=N){N="0.8em"}else{O=O-N+0.5;N+=Q}T.css({left:"-11px",paddingTop:N,paddingBottom:N,top:O}).mouseout(function(){f(this).hide();f(this).remove()})}})}});f("#item_about").click(function(){f("#about_modal").modal("setting",{duration:500}).modal("show");return false});f("#home").click(function(H){l()});f(window).scroll(d);f(window).resize(function(I){var H=f("#sticky-wrapper");H.css("height","auto");var J=parseFloat(H.css("top"));var K=f(window);if(K.height()-J<H.outerHeight()){H.height(K.height()-J-10)}})});function t(){f.ajax({url:s,async:false,cache:false,type:"GET",dataType:"json"}).done(function(I){v=I;a(I.ContentJson);j(I.AboutMd);y(I.Languages);var J=D(m);var H=false;f.each(I.Markdowns,function(K,M){var N=f('<div class="menu"></div>');var L=f("<div class=item><b>"+K+"</b></div>");f.each(M,function(Q,S){var O=S.Name;var R=O+h;if(R==J){H=true}var P=f('<a class="item" href=?p='+R+">"+O+"</a>");P.click(function(){if(!f(this).hasClass("active")){f(window).scrollTop(0);c(R,false,false);q(R)}return false});N.append(P)});L.append(N);f("#main_sidebar").append(L)});if(H){f(".segment.intro").css("paddingTop","20px");q(J)}else{l()}}).fail(function(H,J,I){f("#btn_show_menu").click();f("#segment_intro").empty().html('Sorry! can not read "'+s+'" file.<br/><br/> try to use <code>gosfdoc</code> command run document: ')})}function l(){if(null==v){return}f(window).scrollTop(0);f(".segment.intro").css("paddingTop","");f("#main_sidebar a").removeClass("active");z(v.IntroMd);if(f("#main_sidebar").hasClass("active")){f("#btn_show_menu").click()}var H=f('<div class="ui list"></div>');f.each(v.Markdowns,function(J,M){var L=f('<div class="item"></div>');var I=f('<div class="content"><div class="header">'+J+"</div></div>");var K=f('<div class="list"></div>');f.each(M,function(P,R){var N=R.Name;var Q=N+h;var O=f('<div class="item"><div class="content"><a class="header" href=?p='+Q+">"+N+'</a><div class="description">'+R.Desc+"</div></div></div>");f("a",O).click(function(){f(window).scrollTop(0);if(!f(this).hasClass("active")){c(Q,false,false)}q(Q);return false});K.append(O)});L.append(I);L.append(K);H.append(L)});x.attr("mdpath",null);x.empty().html(H);f("#sticky").empty().hide();x.css("marginLeft","20px")}function d(){var I=f(window).scrollTop();var J=x.data(e);if(!J){return}var H=null;f.each(J,function(K,L){if(I>=K){H=L}});if(H){g(H)}}function g(R){var Q=f(window).scrollTop();var M=f(R);if(!M.hasClass("active")){f("#sticky a").removeClass("active");f(R).addClass("active");var H=D(m);var L=D(b);c(H,M.text(),L);var I=f("#sticky-wrapper");var N=parseFloat(I.css("top"));var O=M.offset().top-Q-N;var K=M.outerHeight();var P=I.height();var J=I.scrollTop();if(O+K>P-J){I.scrollTop(J+K*2)}else{if(O<J){I.scrollTop(J-K*2)}}}}function q(I){f("#segment_intro").empty();f(".segment.intro").css("paddingTop","20px");var K=f("#main_sidebar a");K.removeClass("active");f.each(K,function(M,O){var N=f(O);var L=N.attr("href");if(L=="?"+m+"="+I){N.addClass("active");return false}});var H=D(C);var J=D(b);c(I,H,J);x.removeData(e);f("#sticky").empty().hide();x.css("marginLeft","20px");u({path:I,async:true,dataType:"text",doneFunc:function(U){x.empty().html(marked(U));x.attr("mdpath",I);var R=D(C);var V=D(b);var P=false;var N={};f.each(f("h2",x),function(W,Z){var Y=f(Z);var X=Y.offset().top-F;N[X]=Z});var S={};f.each(N,function(X,Z){var Y=f(Z).text();var W=f('<a class="item" href="javascript:;">'+Y+"</a>");W.click(function(){var ab=D(m);var aa=D(C);c(ab,aa,false);f(window).scrollTop(X);return false});f("#sticky").append(W);S[parseInt(X)]=W;if(R==Y&&!P){P=X}});f.each(f("a",x),function(Y,Z){var X=f(Z);var W=X.attr("href");if(W&&0<W.length){if("#"==W[0]){X.click(function(){var af=f(this);var ab=af.attr("href");var ag=af.text();if(!ab&&0>=ab.length){return false}var ac=ab.substring(1,ab.length);var ah=D(m);var ae=D(C);c(ah,ae,unescape(ac));if("#"!=ag){var aa=f("*[id='"+ac+"']",x);if(0==aa.length){aa=f("*[name='"+ac+"']",x)}if(0!=aa.length){aa=aa.eq(0);var ad=aa.offset().top-F;f(window).scrollTop(ad)}}return false})}else{if(0==W.indexOf("../")){W=W.replace(/\.\.\//g,"");X.attr("href",W)}}}});if(V){V=escape(V);var Q=f("*[id='"+V+"']",x);if(0==Q.length){Q=f("*[name='"+V+"']",x)}if(0!=Q.length){Q=Q.eq(0);P=Q.offset().top-F}var L=D(m);var R=D(C);c(L,R,V)}if(P){f(window).scrollTop(P)}if(0!=f("#sticky a").length){f("#sticky").show();x.css("marginLeft","170px");var M=f("#sticky-wrapper");var T=parseFloat(M.css("top"));var O=f(window);if(O.height()-T<M.outerHeight()){M.height(O.height()-T-10)}}x.data(e,S)},failFunc:function(){x.empty().html("Sorry! Can not load "+I);x.attr("mdpath","")}})}function y(J){var K=w(r);if(null!=K){B=K}var H="";var I=f("#language_value");I.empty();f.each(J,function(M,N){if(0==H.length){H=N}if(M==B){H=N}var L='<div class="item" data-value="'+M+'">'+N+"</div>";I.append(L)});f("#language_text").text(H);f(".ui.dropdown.language").unbind().dropdown({on:"hover",onChange:function(M,N){f("#language_text").text(N);p(r,M);B=M;var L=x.attr("mdpath");if(L){q(L)}else{l()}}})}function j(H){u({path:H,async:true,dataType:"text",doneFunc:function(I){f("#about_content").empty().html(marked(I))},failFunc:function(){alert("Can not read "+H)}})}function a(H){u({path:H,async:true,dataType:"json",doneFunc:function(I){document.title=I.HtmlTitle;f("#doc_title").empty().html(I.DocTitle);f("#menu_title").empty().html(I.MenuTitle)},failFunc:function(){alert("Can not read "+H)}})}function z(H){u({path:H,async:true,dataType:"text",doneFunc:function(I){f("#segment_intro").empty().html(marked(I))},failFunc:function(){alert("Can not read "+H)}})}function u(H){var I=f.extend({path:"",dataType:"text",async:false,doneFunc:null,failFunc:null},H);f.ajax({url:k(I.path),async:I.async,cache:false,type:"GET",dataType:I.dataType}).done(I.doneFunc).fail(function(){f.ajax({url:o(I.path),async:I.async,cache:false,type:"GET",dataType:I.dataType}).done(I.doneFunc).fail(I.failFunc)})}function k(H){return G+"/"+B+"/"+H}function o(H){return G+"/"+n+"/"+H}function i(I){var H=true;var J=G+"/"+n;var K=I.indexOf(J);if(0!=K){H=false}return H}function c(I,K,H){var J="";if(I){J+=m+"="+escape(I)}if(K){if(0!=J.length){J+="&"}J+=C+"="+escape(K)}if(H){if(0!=J.length){J+="&"}J+=b+"="+escape(H)}window.location.hash=J;window.location.search="";window.location.query=""}function D(I){var L=unescape(window.location.search)+"&";if(L=="&"){L=unescape(window.location.hash)+"&"}var J=new RegExp(".*?[&\\?#]"+I+"=(.*?)&.*");var K=L.replace(J,"$1");var H=K==L?false:K;return H}function E(I){var H;var J=document.createElement("span");while(I.firstChild){J.appendChild(I.firstChild)}I.appendChild(J);H=J.offsetWidth;I.removeChild(J);while(J.firstChild){I.appendChild(J.firstChild)}return H}function p(H,I){var J=new Date();J.setTime(J.getTime()+30*24*60*60*1000);document.cookie=H+"="+escape(I)+";expires="+J.toGMTString()}function w(J){var I=null;var H,K=new RegExp("(^| )"+J+"=([^;]*)(;|$)");if(H=document.cookie.match(K)){I=(H[2])}return I}function A(H){var J=new Date();J.setTime(J.getTime()-1);var I=w(H);if(I!=null){document.cookie=H+"="+I+";expires="+J.toGMTString()}}})(jQuery);