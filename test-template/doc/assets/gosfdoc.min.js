(function(y){var c=46;var e="md";var j=".md";var d="config.json";var q="p";var b="t";var T="a";var R="v";var F="stickyItems";var N="language";var S="version";var U="default";var P="1.0.0";var z=null;var A=null;var Q=U;var s=null;var w=false;var g=null;var v="";var D=/^(L(\d+)|L(\d+)[-]L(\d+))$/;function B(W,X,V){this.key=W;this.hash=X;this.scrollTop=0;this.version=V}y(function(){hljs.configure({tabReplace:"    ",useBR:true});marked.setOptions({langPrefix:""});marked.setOptions({highlight:function(V,W){if(W){if(hljs.getLanguage(W)){return hljs.fixMarkup(hljs.highlightAuto(V,[W]).value)}else{return hljs.fixMarkup(hljs.highlightAuto(V).value)}}}});A=y("#main_content");H();l();i()});function H(){y.ajax({url:d,async:false,cache:false,type:"GET",dataType:"json"}).done(function(V){z=V;if(V.AppendPath){v=V.AppendPath}var W=x(q);O(V.Versions);t(V.ContentJson);f(V.AboutMd);u(V.Languages);W=I(V.Markdowns,W);if(W){y(".segment.intro").css("paddingTop","20px");E(W)}else{n()}}).fail(function(V,X,W){y("#btn_show_menu").click();y("#segment_intro").empty().html('Sorry! can not read "'+d+'" file.<br/><br/> try to use <code>gosfdoc</code> command run document: ')})}function l(){y("#btn_show_menu").click(function(){var V=y(this).text();y(this).text(V==">"?"<":">");y("#main_sidebar").sidebar("toggle")});y.each(y("#main_sidebar .item a.item"),function(X,aa){var Y=y(aa);var W=Y.html();W=W.replace(/\//g,"/<wbr>").replace(/\./g,".<wbr>");Y.html(W);var V=Y.outerWidth()-10;var Z=G(aa);if(Z>=V){Y.popup({on:"hover",content:'<a href="'+Y.attr("href")+'">'+Y.text()+"</a>",transition:"none",position:"left center",className:{popup:"ui popup inverted item_popup"},onShow:function(ad){var ah=y(".ui.popup.item_popup");var ac=parseFloat(ah.css("top"));var ae=parseFloat(ah.css("padding-top"));var af=ah.outerHeight();var ag=Y.outerHeight();var ab=(ag-af)/2;if(0>=ab){ab="0.8em"}else{ac=ac-ab+0.5;ab+=ae}ah.css({left:"-11px",paddingTop:ab,paddingBottom:ab,top:ac}).mouseout(function(){y(this).hide();y(this).remove()})}})}});y("#item_about").click(function(){y("#about_modal").modal("setting",{duration:500}).modal("show");return false});y("#home").click(function(V){n()})}function i(){var Z=-1;var ab=new Array();var Y=20;var aa=false;var V=x(q);if(V){var X=window.location.hash;var W=new B(V,X,s);Z=ab.push(W)}y(window).scroll(function(ad){var af=y(window).scrollTop();var ag=A.data(F);if(!ag){return}var ac=null;y.each(ag,function(ah,ai){if(af>=ah){ac=ai}});if(ac){r(ac)}if(1<=Z&&ab.length>=Z){var ae=ab[Z-1];if(ae){ae.scrollTop=af;ab[Z-1]=ae}}});y(window).resize(function(ad){var ac=y("#sticky-wrapper");ac.css("height","auto");var ae=parseFloat(ac.css("top"));var af=y(window);if(af.height()-ae<ac.outerHeight()){ac.height(af.height()-ae-10)}});y(window).on("hashchange",function(){var ai=x(q);var ak=s;var af=window.location.hash;if(!ai||aa){return}if(!w&&1<=Z&&ab.length>=Z){var ah=ab[Z-1];var ac=0;var ad=false;if(ah){ac=ah.scrollTop;ad=ah.version}aa=true;if(ad){if(ad!=ak){y("#version_text").text(ad);y.each(y("div.item",y("#version_value")),function(am,an){var al=y(an);if(al.attr("data-value")==ad){al.addClass("active")}else{al.removeClass("active")}});s=ad;if(null!=z){I(z.Markdowns,ai)}}}E(ai,ac);aa=false;return}var aj=false;if(0==ab.length){aj=true}else{if(1<=Z&&ab.length>=Z){var ah=ab[Z-1];if(ah.key==ai&&ak==ah.version){ah.hash=af;ah.scrollTop=y(window).scrollTop();ah.version=ak;ab[Z-1]=ah}else{aj=true;var ag=ab.length;for(var ae=Z;ae<ag;ae++){ab.pop()}}}}if(aj){if(Y<=ab.length){ab.shift()}var ah=new B(ai,af,ak);Z=ab.push(ah)}});y(document).keyup(function(ad){var ai=ad.which;switch(ai){case 38:var aj=y("#main_sidebar .menu a.item");var ag=aj.length;if(0<ag){var ac=0;y.each(aj,function(al,am){var ak=y(am);if(ak.hasClass("active")){ac=al-1;return false}return true});if(0>ac){aj.eq(ag-1).click()}else{aj.eq(ac).click()}}break;case 40:var aj=y("#main_sidebar .menu a.item");var ag=aj.length;if(0<ag){var ac=0;y.each(aj,function(al,am){var ak=y(am);if(ak.hasClass("active")){ac=al+1;return false}return true});if(ag<=ac){aj.eq(0).click()}else{aj.eq(ac).click()}}break;case 37:Z--;if(1<=Z&&ab.length>=Z){var af=ab[Z-1];var ah=x(q);var ae=x(R);if(ah&&ae){if(af.key!=ah||af.version!=ae){w=false;window.location.hash=af.hash}}}else{if(1>=Z){Z=1}}break;case 39:Z++;if(1<=Z&&ab.length>=Z){var af=ab[Z-1];var ah=x(q);var ae=x(R);if(ah&&ae){if(af.key!=ah||af.version!=ae){w=false;window.location.hash=af.hash}}}else{if(ab.length<=Z){Z=ab.length}}break}return false})}function n(){if(null==z){return}y(window).scrollTop(0);y(".segment.intro").css("paddingTop","");y("#main_sidebar a").removeClass("active");p(z.IntroMd);if(y("#main_sidebar").hasClass("active")){y("#btn_show_menu").click()}var W=y('<div class="ui list"></div>');var V=0;y.each(z.Markdowns,function(aa,ad){var ac=ad.Version;if(s!=ac){return true}var Y=ad.MenuName;var ab=y('<div class="item"></div>');var X=y('<div class="content"><div class="header">'+Y+"</div></div>");var Z=y('<div class="list"></div>');y.each(ad.List,function(aj,ah){var ae=ah.Name;var ai=ah.Desc;var ag=ae+j;var af=y('<div class="item"><div class="content"><a class="header" href=?p='+ag+">"+ae+'</a><div class="description">'+ai+"</div></div></div>");y("a",af).click(function(){y(window).scrollTop(0);if(!y(this).hasClass("active")){L(ag,false,false,s)}E(ag);return false});Z.append(af)});V++;ab.append(X);ab.append(Z);W.append(ab)});if(0==V){W.html("No info data. Version: "+s)}A.attr("mdpath",null);A.empty().html(W);y("#sticky").empty().hide();A.css("marginLeft","20px");L(false,false,false,s)}function r(af){var ae=y(window).scrollTop();var aa=y(af);if(!aa.hasClass("active")){y("#sticky a").removeClass("active");y(af).addClass("active");var V=x(q);var Z=x(T);L(V,aa.text(),Z,s);var W=y("#sticky-wrapper");var ab=parseFloat(W.css("top"));var ac=aa.offset().top-ae-ab;var Y=aa.outerHeight();var ad=W.height();var X=W.scrollTop();if(ac+Y>ad-X){W.scrollTop(X+Y*2)}else{if(ac<X){W.scrollTop(X-Y*2)}}}}function E(W,X){y("#segment_intro").empty();y(".segment.intro").css("paddingTop","20px");var Z=y("#main_sidebar a");Z.removeClass("active");y.each(Z,function(ab,ad){var ac=y(ad);var aa=ac.attr("href");if(aa=="?"+q+"="+W){ac.addClass("active");return false}});var V=x(b);var Y=x(T);L(W,V,Y,s);A.removeData(F);y("#sticky").empty().hide();A.css("marginLeft","20px");m({path:W,async:true,dataType:"text",doneFunc:function(aj){A.empty().html(marked(aj));A.attr("mdpath",W);var ag=x(b);var ak=x(T);var ae=false;var ac={};y.each(y("h2",A),function(al,ao){var an=y(ao);var am=an.offset().top-c;ac[am]=ao});var ah={};y.each(ac,function(am,ao){var an=y(ao).text();var al=y('<a class="item" href="javascript:;">'+an+"</a>");al.click(function(){var aq=x(q);var ap=x(b);L(aq,ap,false,s);y(window).scrollTop(am);return false});y("#sticky").append(al);ah[parseInt(am)]=al;if(ag==an&&!ae){ae=am}});y.each(y("a",A),function(au,aq){var av=y(aq);var al=av.attr("href");if(al&&0<al.length){if("#"==al[0]){av.click(function(){var aE=y(this);var aA=aE.attr("href");var aF=aE.text();if(!aA&&0>=aA.length){return false}var aB=aA.substring(1,aA.length);var aG=x(q);var aD=x(b);if("#"!=aF){var az=y("*[id='"+aB+"']",A);if(0==az.length){az=y("*[name='"+aB+"']",A)}if(0!=az.length){az=az.eq(0);var aC=az.offset().top-c;y(window).scrollTop(aC)}}else{L(aG,aD,unescape(aB),s);o(window.location.href)}return false})}else{if(0==al.indexOf("src.html")){av.attr("target","_blank")}else{if(0==al.indexOf("../")){var ax="javascript:;";var am=al.replace(/\.\.\//g,"");if(0==am.indexOf("src/")){am=am.substring(4,al.length)}var ay=am.split("#");if(1==ay.length){var at=ay[0];if(0!=v.length&&0!=at.indexOf(v)){if("/"==v[v.length-1]){at=v+at}else{at=v+"/"+at}}ax="src.html?v="+s+"&f="+at}else{if(2==ay.length){var at=ay[0];if(0!=v.length&&0!=at.indexOf(v)){if("/"==v[v.length-1]){at=v+at}else{at=v+"/"+at}}var aw="";var ap=ay[1];var ar=ap.replace(D,"$2");if(ar!=ap){if(0==ar.length){var ao=ap.replace(D,"$3");var an=ap.replace(D,"$4");aw="&L="+ao+"-"+an}else{aw="&L="+ar}}ax="src.html?v="+s+"&f="+at+aw}}av.attr("href",ax);av.attr("target","_blank")}}}}});if(ak){ak=escape(ak);var af=y("*[id='"+ak+"']",A);if(0==af.length){af=y("*[name='"+ak+"']",A)}if(0!=af.length){af=af.eq(0);ae=af.offset().top-c}var aa=x(q);var ag=x(b);L(aa,ag,ak,s)}if(X){y(window).scrollTop(X)}else{if(ae){y(window).scrollTop(ae)}}if(0!=y("#sticky a").length){y("#sticky").show();A.css("marginLeft","170px");var ab=y("#sticky-wrapper");var ai=parseFloat(ab.css("top"));var ad=y(window);if(ad.height()-ai<ab.outerHeight()){ab.height(ad.height()-ai-10)}}A.data(F,ah)},failFunc:function(){A.empty().html("Sorry! Can not load "+W);A.attr("mdpath","")}})}function I(aa,X){var W=null;var V=y("<div class=item></div>");var Z=0;y.each(aa,function(ac,ag){var ae=ag.Version;if(s!=ae){return true}var ab=ag.MenuName;var ad=y('<div class="menu"></div>');var af=y("<b>"+ab+"</b>");y.each(ag.List,function(al,ak){var ah=ak.Name;var aj=ah+j;if(X){if(aj==X){W=X}}var ai=y('<a class="item" href=?p='+aj+">"+ah+"</a>");ai.click(function(){if(!y(this).hasClass("active")){y(window).scrollTop(0);L(aj,false,false,s);E(aj)}return false});ad.append(ai)});Z++;V.append(af);V.append(ad)});if(0==Z){V.html("No info data. Version: "+s)}var Y=y("#menu_title");y("#main_sidebar").empty();y("#main_sidebar").append(Y);y("#main_sidebar").append(V);return W}function O(X){var V=x(R);if(!V){V=h(S)}if(V){s=V}var Z="";var Y=false;var W=y("#version_value");W.empty();y.each(X,function(ac,ae){var ab=ae.toString();var aa="";if(0==Z.length){Z=ab}if(s==ab){Y=true;aa=" active"}var ad='<div class="item'+aa+'" data-value="'+ab+'">'+ab+"</div>";W.append(ad)});if(!Y){if(0==Z.length){s=P}else{s=Z}}y("#version_text").text(s);y(".ui.dropdown.version").unbind().dropdown({on:"hover",onChange:function(ag,ah){if(s==ag){return}y("#version_text").text(ah);k(S,ag);s=ag;var ab=x(q);var ae=x(b);var ad=x(T);L(ab,ae,ad,s);var ac=true;var af=A.attr("mdpath");if(af&&null!=z){var aa=I(z.Markdowns,af);if(aa){E(aa);ac=false}}else{I(z.Markdowns,false)}if(ac){n()}}})}function u(X){var Y=h(N);if(null!=Y){Q=Y}var V="";var W=y("#language_value");W.empty();y.each(X,function(aa,ad){var ac="";var Z="";y.each(ad,function(af,ae){ac=af;Z=ae;return false});if(0==V.length){V=Z}if(ac==Q){V=Z}var ab='<div class="item" data-value="'+ac+'">'+Z+"</div>";W.append(ab)});y("#language_text").text(V);y(".ui.dropdown.language").unbind().dropdown({on:"hover",onChange:function(aa,ab){y("#language_text").text(ab);k(N,aa);Q=aa;var Z=A.attr("mdpath");if(Z){E(Z)}else{n()}}})}function f(V){m({path:V,async:true,dataType:"text",doneFunc:function(W){y("#about_content").empty().html(marked(W))},failFunc:function(){y("#about_content").empty().html("Can not read "+V+" version:"+s)}})}function t(V){m({path:V,async:true,dataType:"json",doneFunc:function(W){document.title=W.HtmlTitle;y("#doc_title").empty().html(W.DocTitle);y("#menu_title").empty().html(W.MenuTitle)},failFunc:function(){alert("Can not read "+V+" version:"+s)}})}function p(V){m({path:V,async:true,dataType:"text",doneFunc:function(W){y("#segment_intro").empty().html(marked(W))},failFunc:function(){y("#segment_intro").empty().html("Can not read "+V+" version:"+s)}})}function m(V){var W=y.extend({path:"",dataType:"text",async:false,cache:true,doneFunc:null,failFunc:null},V);y.ajax({url:M(W.path),async:W.async,cache:W.cache,type:"GET",dataType:W.dataType}).done(W.doneFunc).fail(function(){y.ajax({url:J(W.path),async:W.async,cache:W.cache,type:"GET",dataType:W.dataType}).done(W.doneFunc).fail(W.failFunc)})}function C(W){var V="";if(W&&0!=W.length){V="v"+W.replace(/\./g,"_")+"/"}return V}function M(W){var V=C(s);return V+e+"/"+Q+"/"+W}function J(W){var V=C(s);return V+e+"/"+U+"/"+W}function a(W){var V=true;var X=e+"/"+U;var Y=W.indexOf(X);if(0!=Y){V=false}return V}function L(X,Z,W,V){var Y="";if(V){Y+=R+"="+escape(V)}if(X){if(0!=Y.length){Y+="&"}Y+=q+"="+escape(X)}if(Z){if(0!=Y.length){Y+="&"}Y+=b+"="+escape(Z)}if(W){if(0!=Y.length){Y+="&"}Y+=T+"="+escape(W)}w=true;window.location.hash=Y;window.location.search="";window.location.query="";window.clearTimeout(g);g=window.setTimeout(function(){w=false},600)}function x(W){var Z=unescape(window.location.search)+"&";if(Z=="&"){Z=unescape(window.location.hash)+"&"}var X=new RegExp(".*?[&\\?#]"+W+"=(.*?)&.*");var Y=Z.replace(X,"$1");var V=Y==Z?false:Y;return V}function G(W){var V;var X=document.createElement("span");while(W.firstChild){X.appendChild(W.firstChild)}W.appendChild(X);V=X.offsetWidth;W.removeChild(X);while(X.firstChild){W.appendChild(X.firstChild)}return V}function k(V,W){var X=new Date();X.setTime(X.getTime()+30*24*60*60*1000);document.cookie=V+"="+escape(W)+";expires="+X.toGMTString()}function h(X){var W=null;var V,Y=new RegExp("(^| )"+X+"=([^;]*)(;|$)");if(V=document.cookie.match(Y)){W=(V[2])}return W}function K(V){var X=new Date();X.setTime(X.getTime()-1);var W=h(V);if(W!=null){document.cookie=V+"="+W+";expires="+X.toGMTString()}}function o(V){window.prompt("Copy link to clipboard?",V)}})(jQuery);