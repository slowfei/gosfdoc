(function(g){var o="config.json";var k="v";var z="f";var y="L";var a="1.0.0";var t=null;var d=null;var q=null;var p=-1;var h=false;var u="";var r=/^(\d+|\d+[-]\d+)$/;g(function(){hljs.configure({tabReplace:"    ",useBR:false});d=g("#main_content pre code");s();w();j()});function s(){g("#menu_title").html("<center>Loading...</center>");g.ajax({url:o,async:false,cache:false,type:"GET",dataType:"json"}).done(function(B){t=B;g("#menu_title").html("<center>Files</center>");if(B.LinkRoot){h=B.LinkRoot}if(B.AppendPath){u=B.AppendPath}e(B.Versions);f(B.Files);var C=v(z);var A=v(y);b(C,A,q);m(C)}).fail(function(A,C,B){g("#menu_title").html('<center>Load "config.json" Error.</center>')})}function w(){g("#btn_show_menu").click(function(){var A=g(this).text();g(this).text(A==">"?"<":">");g("#main_sidebar").sidebar({duration:1,}).sidebar("toggle")});g.each(g("#main_sidebar .item a.item"),function(C,F){var D=g(F);var B=D.html();B=B.replace(/\//g,"/<wbr>").replace(/\./g,".<wbr>");D.html(B);var A=D.outerWidth()-10;var E=x(F);if(E>=A){D.popup({on:"hover",content:'<a href="'+D.attr("href")+'">'+D.text()+"</a>",transition:"none",position:"left center",className:{popup:"ui popup inverted item_popup"},onShow:function(I){var M=g(".ui.popup.item_popup");var H=parseFloat(M.css("top"));var J=parseFloat(M.css("padding-top"));var K=M.outerHeight();var L=D.outerHeight();var G=(L-K)/2;if(0>=G){G="0.8em"}else{H=H-G+0.5;G+=J}M.css({left:"-11px",paddingTop:G,paddingBottom:G,top:H}).mouseout(function(){g(this).hide();g(this).remove()})}})}});if(-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")){g("#number").addClass("safari")}else{if(-1!=navigator.userAgent.indexOf("Opera")){g("#number").addClass("opera")}else{if(-1!=navigator.userAgent.indexOf("IE")){g("#number").addClass("ie")}}}}function j(){g(window).keydown(function(A){if(1<=g(".line_number.active",d).length){p=A.which}else{p=-1}}).keyup(function(A){p=-1})}function m(C){if(!C){return}var D=g("#main_sidebar .item a.item");g.each(D,function(G,H){var F=g(H);var E=F.attr("href");if(E==C){F.addClass("active")}else{F.removeClass("active")}});d.empty();d.html("Loading...");var B="";if(h){if(0!=u.length&&0==C.indexOf(u+"/")){C=C.substring(u.length+1,C.length)}B="../"+C}else{var A=i(q);if(0!=u.length&&0!=C.indexOf(u)){C=u+"/"+C}B=A+"/src/"+C}g.ajax({url:B,async:true,cache:true,dataType:"text"}).done(function(T){d.attr("src",C);d.empty();var F=C.substring(C.lastIndexOf(".")+1,C.length);var R="";if(F&&hljs.getLanguage(F)){R=hljs.fixMarkup(hljs.highlightAuto(T,[F]).value)}else{R=hljs.fixMarkup(hljs.highlightAuto(T).value)}var P=new Array();var U=R.split(/\n/g);var O=U.length;for(var N=0;N<O;N++){var Q=U[N];if(!Q||0==Q.length){Q="&nbsp;"}if(-1!=Q.indexOf(">/*")&&-1==Q.indexOf("*/<")){var E="";var L=Q.indexOf("<");for(var K=0;K<L;K++){E+=" "}if(-1!=L){Q=Q.substring(L,Q.length)}Q=Q.replace(">/*",'><span class="line_code"><a class="line_number" L="'+(N+1)+'"></a>'+E+"/*")+"\n</span>"}else{if(-1!=Q.indexOf("*/<")&&-1==Q.indexOf(">/*")){Q='<span class="line_code"><a class="line_number" L="'+(N+1)+'"></a>'+Q.replace("*/<","*/\n</span><")}else{Q='<span class="line_code"><a class="line_number" L="'+(N+1)+'"></a>'+Q+"\n</span>"}}P.push(Q)}if(1500<O){g("body").addClass("transition_initial");g("#main_sidebar").addClass("transition_initial")}else{g("body").removeClass("transition_initial");g("#main_sidebar").removeClass("transition_initial")}g("#src_info").html(O+" lines "+T.getBytesLength()+" byte");d.html(P.join(""));l();var H=v(y);if(H&&r.test(H)){H=H.split("-");var M=parseInt(H[0]);var J=H[1];var S=M;var G=M;if(J){G=parseInt(J)}var I=new Array();for(var N=S;N<=G;N++){I.push(N+"")}n(I,M+"")}}).fail(function(){var E="";if(-1!=window.location.protocol.indexOf("file")){E="\n\nTry to use gosfdoc command run document."}d.html("File: "+C+"\nSorry! Unable to load the source code. version: "+q+E)})}function e(C){var A=v(k);if(A){q=A}var E="";var D=false;var B=g("#version_value");B.empty();g.each(C,function(G,I){var F=I.toString();if(0==E.length){E=F}if(q==F){D=true}var H='<div class="item" data-value="'+F+'">'+F+"</div>";B.append(H)});if(!D){if(0==E.length){q=a}else{q=E}}g("#version_text").text(q);g(".ui.dropdown.version").unbind().dropdown({on:"hover",onChange:function(H,I){if(q==H){return}g("#version_text").text(I);q=H;var G=v(z);var F=v(y);b(G,F,q);if(t){f(t.Files)}m(G)}})}function f(D){var A=g("<div class=item></div>");var C=0;g.each(D,function(F,J){var H=J.Version;if(q!=H){return true}var E=J.MenuName;var G=g('<div class="menu"></div>');var I=g("<b>"+E+"</b>");g.each(J.List,function(N,L){var O=L.Filename;var M=O;var K=g('<a class="item" href='+M+">"+O+"</a>");K.click(function(){if(g(this).hasClass("active")){return false}var P=g(this).attr("href");b(P,false,q);m(P);return false});G.append(K)});C++;A.append(I);A.append(G)});if(0==C){A.html("No info data. Version: "+q)}var B=g("#menu_title");g("#main_sidebar").empty();g("#main_sidebar").append(B);g("#main_sidebar").append(A)}function l(A){var B=null;if(A){B=g(A)}else{B=g(".line_number",d)}B.unbind();B.hover(function(){var C=g(this).parent();C.css("background-color","rgba(243, 104, 11, 0.5)")},function(){var C=g(this).parent();C.css("background-color","transparent")});B.click(function(C){var I=g(this);var L=false;if(I.hasClass("active")){L=true}var J=g(this).attr("L");var F=new Array();var M="";if(!L){var E=v(y);if(-1==p||!r.test(E)){M=J;F.push(J)}else{c();E=E.split("-");var H=parseInt(E[0]);J=parseInt(J);var K=0;var D=0;if(H<J){K=H;D=J}else{K=J;D=H}for(var G=K;G<=D;G++){F.push(G+"")}M=K+"-"+D}}n(F);b(v(z),M,q)})}function c(){var A=window.getSelection?window.getSelection():document.selection;if(A){if(A.removeAllRanges){A.removeAllRanges()}else{if(A.empty){A.empty()}}}}function n(B,A){g.each(g(".line_number",d),function(E,G){var D=g(G);var C=D.attr("L");if(A&&A==C){var F=D.offset().top-g(window).height()*0.2;g(window).scrollTop(F)}if(-1!=g.inArray(C,B)){if(!D.hasClass("active")){D.addClass("active")}}else{D.removeClass("active")}})}function b(C,B,A){var D="";if(A){D+=k+"="+escape(A)}if(C){if(0!=D.length){D+="&"}D+=z+"="+escape(C)}if(B){if(0!=D.length){D+="&"}D+=y+"="+escape(B)}window.location.hash=D;window.location.search="";window.location.query=""}String.prototype.getBytesLength=function(){var C=0;var A;for(var B=0;B<this.length;B++){A=this.charCodeAt(B);if(A<127){C++}else{if((128<=A)&&(A<=2047)){C+=2}else{if((2048<=A)&&(A<=65535)){C+=3}else{C+=4}}}}return C};function i(B){var A="";if(B&&0!=B.length){A="v"+B.replace(/\./g,"_")+"/"}return A}function v(B){var E=unescape(window.location.search)+"&";if(E=="&"){E=unescape(window.location.hash)+"&"}var C=new RegExp(".*?[&\\?#]"+B+"=(.*?)&.*");var D=E.replace(C,"$1");var A=D==E?false:D;return A}function x(B){var A;var C=document.createElement("span");while(B.firstChild){C.appendChild(B.firstChild)}B.appendChild(C);A=C.offsetWidth;B.removeChild(C);while(C.firstChild){B.appendChild(C.firstChild)}return A}})(jQuery);