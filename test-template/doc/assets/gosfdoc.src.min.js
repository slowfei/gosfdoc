(function(c){var l=null;var d="CodeArray";var f=-1;var h=/^(#L\d+|#L\d+[-]L\d+)$/;var g="../";c(function(){hljs.configure({tabReplace:"    ",useBR:false});l=c("#main_content pre code");c("#btn_show_menu").click(function(){var o=c(this).text();c(this).text(o==">"?"<":">");c("#main_sidebar").sidebar({duration:1,}).sidebar("toggle")});c.each(c("#main_sidebar .item a.item"),function(q,t){var r=c(t);var p=r.html();p=p.replace(/\//g,"/<wbr>").replace(/\./g,".<wbr>");r.html(p);var o=r.outerWidth()-10;var s=b(t);if(s>=o){r.popup({on:"hover",content:'<a href="'+r.attr("href")+'">'+r.text()+"</a>",transition:"none",position:"left center",className:{popup:"ui popup inverted item_popup"},onShow:function(w){var A=c(".ui.popup.item_popup");var v=parseFloat(A.css("top"));var x=parseFloat(A.css("padding-top"));var y=A.outerHeight();var z=r.outerHeight();var u=(z-y)/2;if(0>=u){u="0.8em"}else{v=v-u+0.5;u+=x}A.css({left:"-11px",paddingTop:u,paddingBottom:u,top:v}).mouseout(function(){c(this).hide();c(this).remove()})}})}});if(-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")){c("#number").addClass("safari")}else{if(-1!=navigator.userAgent.indexOf("Opera")){c("#number").addClass("opera")}else{if(-1!=navigator.userAgent.indexOf("IE")){c("#number").addClass("ie")}}}var n=i("f");if(!n){l.html("source code browse, please select left menu item.")}else{e(n);c("#main_sidebar .item a.item[href='"+n+"']").addClass("active")}var m=c("#main_sidebar .item a.item");m.click(function(o){if(c(this).hasClass("active")){return false}window.location.hash="";window.location.search="f="+c(this).attr("href");return false});c(window).keydown(function(o){if(1<=c(".line_number.active",l).length){f=o.which}else{f=-1}}).keyup(function(o){f=-1})});function e(m){l.empty();l.html("Loading...");c.ajax({url:g+m,async:true,cache:false,dataType:"text"}).done(function(C){l.attr("src",m);l.empty();var o=m.substring(m.lastIndexOf(".")+1,m.length);var A="";if(o&&hljs.getLanguage(o)){A=hljs.fixMarkup(hljs.highlightAuto(C,[o]).value)}else{A=hljs.fixMarkup(hljs.highlightAuto(C).value)}var y=new Array();var D=A.split(/\n/g);var x=D.length;for(var w=0;w<x;w++){var z=D[w];if(!z||0==z.length){z="&nbsp;"}if(-1!=z.indexOf(">/*")&&-1==z.indexOf("*/<")){var n="";var u=z.indexOf("<");for(var t=0;t<u;t++){n+=" "}if(-1!=u){z=z.substring(u,z.length)}z=z.replace(">/*",'><span class="line_code"><a class="line_number" L="'+(w+1)+'"></a>'+n+"/*")+"\n</span>"}else{if(-1!=z.indexOf("*/<")&&-1==z.indexOf(">/*")){z='<span class="line_code"><a class="line_number" L="'+(w+1)+'"></a>'+z.replace("*/<","*/\n</span><")}else{z='<span class="line_code"><a class="line_number" L="'+(w+1)+'"></a>'+z+"\n</span>"}}y.push(z)}if(1500<x){c("body").addClass("transition_initial");c("#main_sidebar").addClass("transition_initial")}else{c("body").removeClass("transition_initial");c("#main_sidebar").removeClass("transition_initial")}c("#src_info").html(x+" lines "+C.getBytesLength()+" byte");l.html(y.join(""));j();var q=window.location.hash;if(h.test(q)){q=q.replace(/L|#/g,"");q=q.split("-");var v=parseInt(q[0]);var s=q[1];var B=v;var p=v;if(s){p=parseInt(s)}var r=new Array();for(var w=B;w<=p;w++){r.push(w+"")}k(r,v+"")}}).fail(function(){var n="";if(-1!=window.location.protocol.indexOf("file")){n="\nuse gosfdoc command run document."}l.html("sorry! source code load failed."+n)})}function j(m){var n=null;if(m){n=c(m)}else{n=c(".line_number",l)}n.unbind();n.hover(function(){var o=c(this).parent();o.css("background-color","rgba(243, 104, 11, 0.5)")},function(){var o=c(this).parent();o.css("background-color","transparent")});n.click(function(o){var v=c(this);var y=false;if(v.hasClass("active")){y=true}var w=c(this).attr("L");var r=new Array();var t="";if(!y){var q=window.location.hash;if(-1==f||!h.test(q)){t="L"+w;r.push(w)}else{a();q=q.replace(/L|#/g,"");q=q.split("-");var u=parseInt(q[0]);w=parseInt(w);var x=0;var p=0;if(u<w){x=u;p=w}else{x=w;p=u}for(var s=x;s<=p;s++){r.push(s+"")}t="L"+x+"-L"+p}}k(r);window.location.hash=t})}function a(){var m=window.getSelection?window.getSelection():document.selection;if(m){if(m.removeAllRanges){m.removeAllRanges()}else{if(m.empty){m.empty()}}}}function k(n,m){c.each(c(".line_number",l),function(q,s){var p=c(s);var o=p.attr("L");if(m&&m==o){var r=p.offset().top-c(window).height()*0.2;c(window).scrollTop(r)}if(-1!=c.inArray(o,n)){if(!p.hasClass("active")){p.addClass("active")}}else{p.removeClass("active")}})}String.prototype.getBytesLength=function(){var o=0;var m;for(var n=0;n<this.length;n++){m=this.charCodeAt(n);if(m<127){o++}else{if((128<=m)&&(m<=2047)){o+=2}else{if((2048<=m)&&(m<=65535)){o+=3}else{o+=4}}}}return o};function i(n){var q=unescape(window.location.search)+"&";if(q=="&"){q=unescape(window.location.hash)+"&"}var o=new RegExp(".*?[&\\?#]"+n+"=(.*?)&.*");var p=q.replace(o,"$1");var m=p==q?false:p;return m}function b(n){var m;var o=document.createElement("span");while(n.firstChild){o.appendChild(n.firstChild)}n.appendChild(o);m=o.offsetWidth;n.removeChild(o);while(o.firstChild){n.appendChild(o.firstChild)}return m}})(jQuery);